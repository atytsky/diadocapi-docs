Restore
=======

Метод ``Restore`` восстанавливает документ из удаленных.

.. http:post:: /Restore

	:queryparam boxId: идентификатор :doc:`ящика <../entities/box>` организации.
	:queryparam messageId: идентификатор сообщения.
	:queryparam documentId: идентификатор документа в сообщении. Необязательный параметр.
	
	:requestheader Authorization: данные, необходимые для :doc:`авторизации <../Authorization>`.
	
	:statuscode 200: операция успешно завершена.
	:statuscode 400: данные в запросе имеют неверный формат или отсутствуют обязательные параметры.
	:statuscode 401: в запросе отсутствует HTTP-заголовок ``Authorization`` или в этом заголовке содержатся некорректные авторизационные данные.
	:statuscode 402: у организации с указанным идентификатором ``boxId`` закончилась подписка на API.
	:statuscode 403: доступ к ящику с предоставленным авторизационным токеном запрещен.
	:statuscode 404: не найдено сообщение или документ с указанными идентификаторами.
	:statuscode 405: используется неподходящий HTTP-метод.
	:statuscode 409: осуществляется попытка повторного восстановления документа или сообщения.
	:statuscode 500: при обработке запроса возникла непредвиденная ошибка.

Метод может восстанавливать не только сообщения :doc:`../proto/Message`, но и шаблоны :doc:`../proto/Template`. Для этого в качестве параметра ``messageId`` нужно передать идентификатор сообщения шаблона.
	
Если параметр ``documentId`` не задан, то будет восстановлено сообщение ``messageId``. В этом случае со всех документов в нем будет снята пометка об удалении. Если в удаленном сообщении восстановлен хотя бы один документ, то со всего сообщения или шаблона будет снята пометка об удалении.

Для выполнения метода текущий пользователь должен иметь доступ ко всем восстанавливаемым документам, иначе метод вернет ошибку ``403 (Forbidden)``.