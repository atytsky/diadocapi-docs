CanSendInvoice
==============

Метод ``CanSendInvoice`` позволяет узнать, может ли указанный сертификат использоваться для подписания электронных счетов-фактур (ЭСФ), отправляемых из указанного ящика.

.. http:post:: /CanSendInvoice

	:queryparam boxId: идентификатор :doc:`ящика <../entities/box>` организации.
	
	:requestheader Authorization: данные, необходимые для :doc:`авторизации <../Authorization>`.
	
	:request Body: Тело запроса должно содержать :rfc:`X.509 <5280>` сертификат пользователя, сериализованный в `DER <http://www.itu.int/ITU-T/studygroups/com17/languages/X.690-0207.pdf>`__.

	:statuscode 200: указанный сертификат может использоваться для подписания ЭСФ, отправляемых из ящика ``boxId``
	:statuscode 400: данные в запросе имеют неверный формат или отсутствуют обязательные параметры.
	:statuscode 401: в запросе отсутствует HTTP-заголовок ``Authorization`` или в этом заголовке содержатся некорректные авторизационные данные.
	:statuscode 402: у организации с указанным идентификатором ``boxId`` закончилась подписка на API.
	:statuscode 403: указанный сертификат не может использоваться для подписания ЭСФ, отправляемых из ящика ``boxId``.
	:statuscode 404: не найден ящик с указанным идентификатором.
	:statuscode 405: используется неподходящий HTTP-метод.
	:statuscode 500: при обработке запроса возникла непредвиденная ошибка.
	
Метод выявляет, был ли переданный сертификат зарегистрирован в ФНС в качестве сертификата для подписания ЭСФ, отправляемых участником ЭДО с ящиком ``boxId``. Если сертификат может использоваться для подписания ЭСФ, то метод вернет код ``200 (OK)``, если не может, — то код ``403 (Forbidden)``.